{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAQMC,EAAaC,SAASC,cAAc,WACpCC,EAAcF,SAASC,cAAc,sBACrCE,EAAqBH,SAASC,cAAc,qBAKlD,SAASG,IACP,IAAMC,EAA4BC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAO5B,GAJKN,GAAkE,IAArCA,EAA0BO,SAC1DV,EAAYW,UAAa,yFAGvBR,GAA6BA,EAA0BO,OAAS,EAAG,CACrE,IAAME,EAAqBd,SAASC,cAAc,qBAC9Cc,EAASV,EACVW,KACC,SAAAC,G,IACEC,EAAaD,EAAbC,cAEAC,GADUF,EAAVG,WACOH,EAAPE,SAEAE,GADcJ,EAAdK,eACYL,EAAZI,cAEA,MAAO,wCAC0BE,OADcF,EAAa,gDAG9DE,OAFmCL,EAAc,yDAKFK,OAHnC,OAAZJ,EAAmBD,EAAgBC,EACpC,sGAGkDI,OADFL,EAAc,iFACCK,OAAbF,EAAa,gD,IAK/DG,KAAK,IACRV,EAAmBD,UAAYE,C,EApCnChB,EAAW0B,UAAUC,IAAI,aACzB7B,EAAA8B,YAAYC,YAAc/B,EAAAgC,MAAMC,kBAsChC1B,IAEAD,EAAmB4B,iBAAiB,SAEpC,SAAmCC,GACjC,IAAMC,EAAaD,EAAEE,OAAOC,YACT,eAAfF,GAQN,SAA0BD,GACxB,IACMI,EADeJ,EAAEE,OACeG,QAAQ,qBAAqBC,QAAQC,GAIrEC,EAH4BlC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAEqB8B,MAC/C,SAAAC,G,OAAMA,EAAGrB,eAAiBe,C,KAE5B,EAAAvC,EAAA8C,wBAAuBH,EAAgBpC,E,CAhBrCwC,CAAiBZ,GAEfC,EAAWY,SAAS,WAiB1B,SAAiCb,GAC/B,IACMI,EADeJ,EAAEE,OACeG,QAAQ,qBAAqBC,QAAQC,GACrElC,EAA4BC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAEtBmC,EAAkBzC,EAA0B0C,WAChD,SAAAL,G,OAAMA,EAAGrB,eAAiBe,C,IAE5B/B,EAA0B2C,OAAOF,EAAiB,GAClDtC,aAAayC,QACXpD,EAAAa,KAAKC,oBACLL,KAAK4C,UAAU7C,IAEjBD,G,CA9BE+C,CAAwBnB,E,KAiC5B,EAAAnC,EAAAuD,sB","sources":["src/js/favorite-ingredients.js"],"sourcesContent":["import {\n  keys,\n  ingredientMarkupCreate,\n  environment,\n  pages,\n  addListenersToModal,\n} from './utils';\n\nconst searchForm = document.querySelector('.search');\nconst nothingFind = document.querySelector('.ingredients-sorry');\nconst ingredientsGallery = document.querySelector('.ingredients-list');\n\nsearchForm.classList.add('is-hidden');\nenvironment.currentPage = pages.favoriteCocktails;\n\nfunction createIngredientsMarkup() {\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n\n  if (!localStorageFavIngredient || localStorageFavIngredient.length === 0) {\n    nothingFind.innerHTML = `<p class=\"sorry__title-coctails \">You haven't added any favorite ingredients yet</p>`;\n  }\n\n  if (localStorageFavIngredient && localStorageFavIngredient.length > 0) {\n    const ingredientsGallery = document.querySelector('.ingredients-list');\n    let markup = localStorageFavIngredient\n      .map(\n        ({\n          strIngredient,\n          strAlcohol,\n          strType,\n          strDescription,\n          idIngredient,\n        }) => {\n          return `<li class=\"ingredient__card\" data-id=${idIngredient}>\n      <h3 class=\"ingredient-card__title\">${strIngredient}</h3>\n      <p class=\"ingredient-card__description\">${\n        strType === null ? strIngredient : strType\n      }</p>\n      <div class=\"button__container\">\n        <button type=\"button\" class=\"button-more\" id=${strIngredient}>Learn more</button>\n        <button type=\"button\" class=\"button-remove\" id=${idIngredient} >Remove </button>\n      </div>\n      </li>`;\n        }\n      )\n      .join('');\n    ingredientsGallery.innerHTML = markup;\n  }\n}\ncreateIngredientsMarkup();\n\ningredientsGallery.addEventListener('click', favoriteIngredientHandler);\n\nfunction favoriteIngredientHandler(e) {\n  const buttonText = e.target.textContent;\n  if (buttonText === 'Learn more') {\n    onLearnMoreClick(e);\n  }\n  if (buttonText.includes('Remove')) {\n    onFavoriteCocktailClick(e);\n  }\n}\n\nfunction onLearnMoreClick(e) {\n  const targetButton = e.target;\n  const ingredientCardId = targetButton.closest('.ingredient__card').dataset.id;\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n  const ingredientData = localStorageFavIngredient.find(\n    el => el.idIngredient === ingredientCardId\n  );\n  ingredientMarkupCreate(ingredientData, createIngredientsMarkup);\n}\n\nfunction onFavoriteCocktailClick(e) {\n  const targetButton = e.target;\n  const ingredientCardId = targetButton.closest('.ingredient__card').dataset.id;\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n  const ingredientIndex = localStorageFavIngredient.findIndex(\n    el => el.idIngredient === ingredientCardId\n  );\n  localStorageFavIngredient.splice(ingredientIndex, 1);\n  localStorage.setItem(\n    keys.favoriteIngredients,\n    JSON.stringify(localStorageFavIngredient)\n  );\n  createIngredientsMarkup();\n}\n\naddListenersToModal();\n"],"names":["$1RLhk","parcelRequire","$8c41c1e1bb95857d$var$searchForm","document","querySelector","$8c41c1e1bb95857d$var$nothingFind","$8c41c1e1bb95857d$var$ingredientsGallery","$8c41c1e1bb95857d$var$createIngredientsMarkup","localStorageFavIngredient","JSON","parse","localStorage","getItem","keys","favoriteIngredients","length","innerHTML","ingredientsGallery1","markup","map","param","strIngredient","strType","strAlcohol","idIngredient","strDescription","concat","join","classList","add","environment","currentPage","pages","favoriteCocktails","addEventListener","e","buttonText","target","textContent","ingredientCardId","closest","dataset","id","ingredientData","find","el","ingredientMarkupCreate","$8c41c1e1bb95857d$var$onLearnMoreClick","includes","ingredientIndex","findIndex","splice","setItem","stringify","$8c41c1e1bb95857d$var$onFavoriteCocktailClick","addListenersToModal"],"version":3,"file":"favorite-ingredients.2013c2ed.js.map"}