{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAYAD,EAAAE,YAAYC,YAAcH,EAAAI,MAAMC,kBAEhC,IAAMC,EAAaC,SAASC,cAAc,WACpCC,EAAgBF,SAASC,cAAc,mBACvCE,EAAqBH,SAASC,cAAc,oBAC5CG,EACJC,KAAKC,MAAMC,aAAaC,QAAQf,EAAAgB,KAAKX,qBAAuB,GAE9DC,EAAWW,UAAUC,IAAI,cACzB,EAAAlB,EAAAmB,cAAaR,EAAuBX,EAAAgB,KAAKX,mBAEzCI,EAAcW,iBAAiB,SAE/B,SAAiCC,GAC/B,IAAMC,EAAgBD,EAAME,OACtBC,EACJZ,KAAKC,MAAMC,aAAaC,QAAQf,EAAAgB,KAAKX,qBAAuB,GACxDoB,EAAeH,EAAcI,QAAQ,kBAE3C,GAAkC,WAA9BJ,EAAcK,YAA0B,CAC1C,IAAMC,EAASJ,EAAQK,WAAU,SAAAC,G,OAC/BA,EAAGC,SAASN,EAAaO,QAAQC,G,IAKnC,OAHAT,EAAQU,OAAON,EAAQ,GACvBd,aAAaqB,QAAQnC,EAAAgB,KAAKX,kBAAmBO,KAAKwB,UAAUZ,SAC5D,EAAAxB,EAAAqC,8BAA6BC,EAAetC,EAAAgB,KAAKX,kB,CAGjB,eAA9BiB,EAAcK,cAChB,EAAA3B,EAAAuC,kBAAiBlB,GAEe,WAA9BC,EAAcK,cAChB,EAAA3B,EAAAwC,wBAAuBf,E,IAI3B,IAAIa,EAAgB,EAEpB5B,EAAmBU,iBAAiB,SAAS,SAAAC,GAC3CiB,GAAiBjB,EAAME,OAAOI,aAC9B,EAAA3B,EAAAyC,cAAapB,GAAO,EAAMrB,EAAAgB,KAAKX,kB,KAGjC,EAAAL,EAAA0C,sB","sources":["src/js/favorite-cocktails-list.js"],"sourcesContent":["import {\n  keys,\n  validatePage,\n  onPageChange,\n  environment,\n  pages,\n  addListenersToModal,\n  updateMarkupFavoriteCocktail,\n  onLearnMoreClick,\n  addToFavoriteCocktails,\n} from './utils';\n\nenvironment.currentPage = pages.favoriteCocktails;\n\nconst searchForm = document.querySelector('.search');\nconst cocktailsList = document.querySelector('.coctails__list');\nconst paginationListArea = document.querySelector('.pagination-list');\nconst favoriteCocktailsList =\n  JSON.parse(localStorage.getItem(keys.favoriteCocktails)) || [];\n\nsearchForm.classList.add('is-hidden');\nvalidatePage(favoriteCocktailsList, keys.favoriteCocktails);\n\ncocktailsList.addEventListener('click', onFavoriteCocktailClick);\n\nfunction onFavoriteCocktailClick(event) {\n  const targetElement = event.target;\n  const storage =\n    JSON.parse(localStorage.getItem(keys.favoriteCocktails)) || [];\n  const cocktailCard = targetElement.closest('.gallery__card');\n\n  if (targetElement.textContent === 'Remove') {\n    const cardId = storage.findIndex(el =>\n      el.includes(cocktailCard.dataset.id)\n    );\n    storage.splice(cardId, 1);\n    localStorage.setItem(keys.favoriteCocktails, JSON.stringify(storage));\n    updateMarkupFavoriteCocktail(dispalyedPage, keys.favoriteCocktails);\n    return;\n  }\n  if (targetElement.textContent === 'Learn more') {\n    onLearnMoreClick(event);\n  }\n  if (targetElement.textContent === 'Add to') {\n    addToFavoriteCocktails(cocktailCard);\n  }\n}\n\nlet dispalyedPage = 1;\n\npaginationListArea.addEventListener('click', event => {\n  dispalyedPage = +event.target.textContent;\n  onPageChange(event, true, keys.favoriteCocktails);\n});\n\naddListenersToModal();\n"],"names":["$1RLhk","parcelRequire","environment","currentPage","pages","favoriteCocktails","$8322d51610d4c3a2$var$searchForm","document","querySelector","$8322d51610d4c3a2$var$cocktailsList","$8322d51610d4c3a2$var$paginationListArea","$8322d51610d4c3a2$var$favoriteCocktailsList","JSON","parse","localStorage","getItem","keys","classList","add","validatePage","addEventListener","event","targetElement","target","storage","cocktailCard","closest","textContent","cardId","findIndex","el","includes","dataset","id","splice","setItem","stringify","updateMarkupFavoriteCocktail","$8322d51610d4c3a2$var$dispalyedPage","onLearnMoreClick","addToFavoriteCocktails","onPageChange","addListenersToModal"],"version":3,"file":"favorite-cocktails.3f14d6dd.js.map"}