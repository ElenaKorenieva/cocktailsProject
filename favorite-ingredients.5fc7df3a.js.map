{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAQA,MAAMC,EAAaC,SAASC,cAAc,WACpCC,EAAcF,SAASC,cAAc,sBACrCE,EAAqBH,SAASC,cAAc,qBAKlD,SAASG,IACP,MAAMC,EAA4BC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAO5B,GAJKN,GAAkE,IAArCA,EAA0BO,SAC1DV,EAAYW,UAAY,yFAGtBR,GAA6BA,EAA0BO,OAAS,EAAG,CACrE,MAAME,EAAqBd,SAASC,cAAc,qBAClD,IAAIc,EAASV,EACVW,KACC,EAACC,cACCA,EAAaC,WACbA,EAAUC,QACVA,EAAOC,eACPA,EAAcC,aACdA,KAEO,wCAAwCA,gDACdJ,yDAEvB,OAAZE,EAAmBF,EAAgBE,sGAGYF,iFACEI,mDAKlDC,KAAK,IACRR,EAAmBD,UAAYE,C,EApCnChB,EAAWwB,UAAUC,IAAI,aACzB3B,EAAA4B,YAAYC,YAAc7B,EAAA8B,MAAMC,kBAsChCxB,IAEAD,EAAmB0B,iBAAiB,SAEpC,SAAmCC,GACjC,MAAMC,EAAaD,EAAEE,OAAOC,YACT,eAAfF,GAQN,SAA0BD,GACxB,MACMI,EADeJ,EAAEE,OACeG,QAAQ,qBAAqBC,QAAQC,GAIrEC,EAH4BhC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAEqB4B,MAC/CC,GAAMA,EAAGnB,eAAiBa,KAE5B,EAAArC,EAAA4C,wBAAuBH,EAAgBlC,E,CAhBrCsC,CAAiBZ,GAEfC,EAAWY,SAAS,WAiB1B,SAAiCb,GAC/B,MACMI,EADeJ,EAAEE,OACeG,QAAQ,qBAAqBC,QAAQC,GACrEhC,EAA4BC,KAAKC,MACrCC,aAAaC,QAAQZ,EAAAa,KAAKC,sBAEtBiC,EAAkBvC,EAA0BwC,WAChDL,GAAMA,EAAGnB,eAAiBa,IAE5B7B,EAA0ByC,OAAOF,EAAiB,GAClDpC,aAAauC,QACXlD,EAAAa,KAAKC,oBACLL,KAAK0C,UAAU3C,IAEjBD,G,CA9BE6C,CAAwBnB,E,KAiC5B,EAAAjC,EAAAqD","sources":["src/js/favorite-ingredients.js"],"sourcesContent":["import {\n  keys,\n  ingredientMarkupCreate,\n  environment,\n  pages,\n  addListenersToModal,\n} from './utils';\n\nconst searchForm = document.querySelector('.search');\nconst nothingFind = document.querySelector('.ingredients-sorry');\nconst ingredientsGallery = document.querySelector('.ingredients-list');\n\nsearchForm.classList.add('is-hidden');\nenvironment.currentPage = pages.favoriteCocktails;\n\nfunction createIngredientsMarkup() {\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n\n  if (!localStorageFavIngredient || localStorageFavIngredient.length === 0) {\n    nothingFind.innerHTML = `<p class=\"sorry__title-coctails \">You haven't added any favorite ingredients yet</p>`;\n  }\n\n  if (localStorageFavIngredient && localStorageFavIngredient.length > 0) {\n    const ingredientsGallery = document.querySelector('.ingredients-list');\n    let markup = localStorageFavIngredient\n      .map(\n        ({\n          strIngredient,\n          strAlcohol,\n          strType,\n          strDescription,\n          idIngredient,\n        }) => {\n          return `<li class=\"ingredient__card\" data-id=${idIngredient}>\n      <h3 class=\"ingredient-card__title\">${strIngredient}</h3>\n      <p class=\"ingredient-card__description\">${\n        strType === null ? strIngredient : strType\n      }</p>\n      <div class=\"button__container\">\n        <button type=\"button\" class=\"button-more\" id=${strIngredient}>Learn more</button>\n        <button type=\"button\" class=\"button-remove\" id=${idIngredient} >Remove </button>\n      </div>\n      </li>`;\n        }\n      )\n      .join('');\n    ingredientsGallery.innerHTML = markup;\n  }\n}\ncreateIngredientsMarkup();\n\ningredientsGallery.addEventListener('click', favoriteIngredientHandler);\n\nfunction favoriteIngredientHandler(e) {\n  const buttonText = e.target.textContent;\n  if (buttonText === 'Learn more') {\n    onLearnMoreClick(e);\n  }\n  if (buttonText.includes('Remove')) {\n    onFavoriteCocktailClick(e);\n  }\n}\n\nfunction onLearnMoreClick(e) {\n  const targetButton = e.target;\n  const ingredientCardId = targetButton.closest('.ingredient__card').dataset.id;\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n  const ingredientData = localStorageFavIngredient.find(\n    el => el.idIngredient === ingredientCardId\n  );\n  ingredientMarkupCreate(ingredientData, createIngredientsMarkup);\n}\n\nfunction onFavoriteCocktailClick(e) {\n  const targetButton = e.target;\n  const ingredientCardId = targetButton.closest('.ingredient__card').dataset.id;\n  const localStorageFavIngredient = JSON.parse(\n    localStorage.getItem(keys.favoriteIngredients)\n  );\n  const ingredientIndex = localStorageFavIngredient.findIndex(\n    el => el.idIngredient === ingredientCardId\n  );\n  localStorageFavIngredient.splice(ingredientIndex, 1);\n  localStorage.setItem(\n    keys.favoriteIngredients,\n    JSON.stringify(localStorageFavIngredient)\n  );\n  createIngredientsMarkup();\n}\n\naddListenersToModal();\n"],"names":["$lQVoc","parcelRequire","$86410e3eb13ab2ec$var$searchForm","document","querySelector","$86410e3eb13ab2ec$var$nothingFind","$86410e3eb13ab2ec$var$ingredientsGallery","$86410e3eb13ab2ec$var$createIngredientsMarkup","localStorageFavIngredient","JSON","parse","localStorage","getItem","keys","favoriteIngredients","length","innerHTML","ingredientsGallery1","markup","map","strIngredient","strAlcohol","strType","strDescription","idIngredient","join","classList","add","environment","currentPage","pages","favoriteCocktails","addEventListener","e","buttonText","target","textContent","ingredientCardId","closest","dataset","id","ingredientData","find","el","ingredientMarkupCreate","$86410e3eb13ab2ec$var$onLearnMoreClick","includes","ingredientIndex","findIndex","splice","setItem","stringify","$86410e3eb13ab2ec$var$onFavoriteCocktailClick","addListenersToModal"],"version":3,"file":"favorite-ingredients.5fc7df3a.js.map"}